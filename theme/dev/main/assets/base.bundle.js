(()=>{"use strict";var __webpack_modules__={413:()=>{eval('\n;// CONCATENATED MODULE: ./src/js/components/details-disclosure.js\nfunction _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === "function" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== "function") { throw new TypeError("Super expression must either be null or a function"); } if (typeof _cache !== "undefined") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct.bind(); } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf("[native code]") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n/*\r\n * @Date: 2022-12-27 10:40:33\r\n * @LastEditors: Leo\r\n * @LastEditTime: 2022-12-27 10:42:38\r\n * @FilePath: \\3.0-manger\\src\\js\\components\\details-disclosure.js\r\n * @description: drop-menu\r\n */\nvar DetailsDisclosure = /*#__PURE__*/function (_HTMLElement) {\n  _inherits(DetailsDisclosure, _HTMLElement);\n\n  var _super = _createSuper(DetailsDisclosure);\n\n  function DetailsDisclosure() {\n    var _this;\n\n    _classCallCheck(this, DetailsDisclosure);\n\n    _this = _super.call(this);\n    _this.mainDetailsToggle = _this.querySelector(\'details\');\n\n    _this.mainDetailsToggle.addEventListener(\'focusout\', _this.onFocusOut.bind(_assertThisInitialized(_this)));\n\n    return _this;\n  }\n\n  _createClass(DetailsDisclosure, [{\n    key: "onFocusOut",\n    value: function onFocusOut() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        if (!_this2.contains(document.activeElement)) _this2.close();\n      });\n    }\n  }, {\n    key: "close",\n    value: function close() {\n      this.mainDetailsToggle.removeAttribute(\'open\');\n      this.mainDetailsToggle.querySelector(\'summary\').setAttribute(\'aria-expanded\', false);\n    }\n  }]);\n\n  return DetailsDisclosure;\n}( /*#__PURE__*/_wrapNativeSuper(HTMLElement)); // customElements.define(\'details-disclosure\', DetailsDisclosure);\n\n\n\n;// CONCATENATED MODULE: ./src/js/utils/index.js\n/*\r\n * @Date: 2022-12-28 09:58:32\r\n * @LastEditors: Leo\r\n * @LastEditTime: 2023-01-07 15:45:27\r\n * @FilePath: \\3.0-manger\\src\\js\\utils\\index.js\r\n */\nfunction debounce(fn, wait) {\n  var _this = this;\n\n  var t;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    clearTimeout(t);\n    t = setTimeout(function () {\n      return fn.apply(_this, args);\n    }, wait);\n  };\n}\nvar trapFocusHandlers = {};\nfunction getFocusableElements(container) {\n  return Array.from(container.querySelectorAll("summary, a[href], button:enabled, [tabindex]:not([tabindex^=\'-\']), [draggable], area, input:not([type=hidden]):enabled, select:enabled, textarea:enabled, object, iframe"));\n}\nfunction trapFocus(container) {\n  var elementToFocus = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : container;\n  var elements = getFocusableElements(container);\n  var first = elements[0];\n  var last = elements[elements.length - 1];\n  removeTrapFocus();\n\n  trapFocusHandlers.focusin = function (event) {\n    if (event.target !== container && event.target !== last && event.target !== first) return;\n    document.addEventListener(\'keydown\', trapFocusHandlers.keydown);\n  };\n\n  trapFocusHandlers.focusout = function () {\n    document.removeEventListener(\'keydown\', trapFocusHandlers.keydown);\n  };\n\n  trapFocusHandlers.keydown = function (event) {\n    if (event.code.toUpperCase() !== \'TAB\') return; // If not TAB key\n    // On the last focusable element and tab forward, focus the first element.\n\n    if (event.target === last && !event.shiftKey) {\n      event.preventDefault();\n      first.focus();\n    } //  On the first focusable element and tab backward, focus the last element.\n\n\n    if ((event.target === container || event.target === first) && event.shiftKey) {\n      event.preventDefault();\n      last.focus();\n    }\n  };\n\n  document.addEventListener(\'focusout\', trapFocusHandlers.focusout);\n  document.addEventListener(\'focusin\', trapFocusHandlers.focusin);\n  elementToFocus.focus();\n}\nfunction removeTrapFocus() {\n  var elementToFocus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  document.removeEventListener(\'focusin\', trapFocusHandlers.focusin);\n  document.removeEventListener(\'focusout\', trapFocusHandlers.focusout);\n  document.removeEventListener(\'keydown\', trapFocusHandlers.keydown);\n  if (elementToFocus) elementToFocus.focus();\n}\n/*\r\n    指定容器下 - autoplay video\r\n    el - video 父元素\r\n*/\n\nfunction autoplayVideo(el) {\n  var video = el.querySelector(\'iframe[src*="www.youtube.com"], iframe[src*="player.vimeo.com"], video\');\n  if (!video) return;\n\n  if (video.tagName.toLowerCase() === \'video\') {\n    video.play();\n    return;\n  }\n\n  video.src = video.src + (video.src.indexOf(\'?\') < 0 ? \'?\' : \'&\') + \'autoplay=1\';\n}\n/*\r\n    指定容器下 - stop video\r\n    el - video 父元素\r\n*/\n\nfunction stopVideo(el) {\n  var video = el.querySelector(\'iframe[src*="www.youtube.com"], iframe[src*="player.vimeo.com"], video\');\n  if (!video) return;\n\n  if (video.tagName.toLowerCase() === \'video\') {\n    video.pause();\n    return;\n  }\n\n  video.src = video.src.replace(\'&autoplay=1\', \'\').replace(\'?autoplay=1\', \'\');\n}\n;// CONCATENATED MODULE: ./src/js/components/details-modal.js\nfunction details_modal_typeof(obj) { "@babel/helpers - typeof"; return details_modal_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, details_modal_typeof(obj); }\n\nfunction details_modal_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction details_modal_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction details_modal_createClass(Constructor, protoProps, staticProps) { if (protoProps) details_modal_defineProperties(Constructor.prototype, protoProps); if (staticProps) details_modal_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\n\nfunction details_modal_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) details_modal_setPrototypeOf(subClass, superClass); }\n\nfunction details_modal_createSuper(Derived) { var hasNativeReflectConstruct = details_modal_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = details_modal_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = details_modal_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return details_modal_possibleConstructorReturn(this, result); }; }\n\nfunction details_modal_possibleConstructorReturn(self, call) { if (call && (details_modal_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return details_modal_assertThisInitialized(self); }\n\nfunction details_modal_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction details_modal_wrapNativeSuper(Class) { var _cache = typeof Map === "function" ? new Map() : undefined; details_modal_wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !details_modal_isNativeFunction(Class)) return Class; if (typeof Class !== "function") { throw new TypeError("Super expression must either be null or a function"); } if (typeof _cache !== "undefined") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return details_modal_construct(Class, arguments, details_modal_getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return details_modal_setPrototypeOf(Wrapper, Class); }; return details_modal_wrapNativeSuper(Class); }\n\nfunction details_modal_construct(Parent, args, Class) { if (details_modal_isNativeReflectConstruct()) { details_modal_construct = Reflect.construct.bind(); } else { details_modal_construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) details_modal_setPrototypeOf(instance, Class.prototype); return instance; }; } return details_modal_construct.apply(null, arguments); }\n\nfunction details_modal_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction details_modal_isNativeFunction(fn) { return Function.toString.call(fn).indexOf("[native code]") !== -1; }\n\nfunction details_modal_setPrototypeOf(o, p) { details_modal_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return details_modal_setPrototypeOf(o, p); }\n\nfunction details_modal_getPrototypeOf(o) { details_modal_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return details_modal_getPrototypeOf(o); }\n\n/*\r\n * @Date: 2022-12-27 15:21:01\r\n * @LastEditors: Leo\r\n * @LastEditTime: 2022-12-28 10:00:54\r\n * @FilePath: \\3.0-manger\\src\\js\\components\\details-modal.js\r\n */\n\n\nvar DetailsModal = /*#__PURE__*/function (_HTMLElement) {\n  details_modal_inherits(DetailsModal, _HTMLElement);\n\n  var _super = details_modal_createSuper(DetailsModal);\n\n  function DetailsModal() {\n    var _this;\n\n    details_modal_classCallCheck(this, DetailsModal);\n\n    _this = _super.call(this);\n    _this.detailsContainer = _this.querySelector(\'details\');\n    _this.summaryToggle = _this.querySelector(\'summary\');\n\n    _this.detailsContainer.addEventListener(\'keyup\', function (event) {\n      return event.code.toUpperCase() === \'ESCAPE\' && _this.close();\n    });\n\n    _this.summaryToggle.addEventListener(\'click\', _this.onSummaryClick.bind(details_modal_assertThisInitialized(_this)));\n\n    _this.querySelector(\'button[type="button"]\').addEventListener(\'click\', _this.close.bind(details_modal_assertThisInitialized(_this)));\n\n    _this.summaryToggle.setAttribute(\'role\', \'button\');\n\n    return _this;\n  }\n\n  details_modal_createClass(DetailsModal, [{\n    key: "isOpen",\n    value: function isOpen() {\n      return this.detailsContainer.hasAttribute(\'open\');\n    }\n  }, {\n    key: "onSummaryClick",\n    value: function onSummaryClick(event) {\n      event.preventDefault();\n      event.target.closest(\'details\').hasAttribute(\'open\') ? this.close() : this.open(event);\n    }\n  }, {\n    key: "onBodyClick",\n    value: function onBodyClick(event) {\n      if (!this.contains(event.target) || event.target.classList.contains(\'modal-overlay\')) this.close(false);\n    }\n  }, {\n    key: "open",\n    value: function open(event) {\n      this.onBodyClickEvent = this.onBodyClickEvent || this.onBodyClick.bind(this);\n      event.target.closest(\'details\').setAttribute(\'open\', true);\n      document.body.addEventListener(\'click\', this.onBodyClickEvent);\n      document.body.classList.add(\'overflow-hidden\');\n      trapFocus(this.detailsContainer.querySelector(\'[tabindex="-1"]\'), this.detailsContainer.querySelector(\'input:not([type="hidden"])\'));\n    }\n  }, {\n    key: "close",\n    value: function close() {\n      var focusToggle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      removeTrapFocus(focusToggle ? this.summaryToggle : null);\n      this.detailsContainer.removeAttribute(\'open\');\n      document.body.removeEventListener(\'click\', this.onBodyClickEvent);\n      document.body.classList.remove(\'overflow-hidden\');\n    }\n  }]);\n\n  return DetailsModal;\n}( /*#__PURE__*/details_modal_wrapNativeSuper(HTMLElement)); // customElements.define(\'details-modal\', DetailsModal);\n\n\n\n;// CONCATENATED MODULE: ./src/js/components/private-search.js\nfunction private_search_typeof(obj) { "@babel/helpers - typeof"; return private_search_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, private_search_typeof(obj); }\n\nfunction private_search_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction private_search_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction private_search_createClass(Constructor, protoProps, staticProps) { if (protoProps) private_search_defineProperties(Constructor.prototype, protoProps); if (staticProps) private_search_defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }\n\nfunction private_search_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, "prototype", { writable: false }); if (superClass) private_search_setPrototypeOf(subClass, superClass); }\n\nfunction private_search_createSuper(Derived) { var hasNativeReflectConstruct = private_search_isNativeReflectConstruct(); return function _createSuperInternal() { var Super = private_search_getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = private_search_getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return private_search_possibleConstructorReturn(this, result); }; }\n\nfunction private_search_possibleConstructorReturn(self, call) { if (call && (private_search_typeof(call) === "object" || typeof call === "function")) { return call; } else if (call !== void 0) { throw new TypeError("Derived constructors may only return object or undefined"); } return private_search_assertThisInitialized(self); }\n\nfunction private_search_assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction private_search_wrapNativeSuper(Class) { var _cache = typeof Map === "function" ? new Map() : undefined; private_search_wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !private_search_isNativeFunction(Class)) return Class; if (typeof Class !== "function") { throw new TypeError("Super expression must either be null or a function"); } if (typeof _cache !== "undefined") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return private_search_construct(Class, arguments, private_search_getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return private_search_setPrototypeOf(Wrapper, Class); }; return private_search_wrapNativeSuper(Class); }\n\nfunction private_search_construct(Parent, args, Class) { if (private_search_isNativeReflectConstruct()) { private_search_construct = Reflect.construct.bind(); } else { private_search_construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) private_search_setPrototypeOf(instance, Class.prototype); return instance; }; } return private_search_construct.apply(null, arguments); }\n\nfunction private_search_isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction private_search_isNativeFunction(fn) { return Function.toString.call(fn).indexOf("[native code]") !== -1; }\n\nfunction private_search_setPrototypeOf(o, p) { private_search_setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return private_search_setPrototypeOf(o, p); }\n\nfunction private_search_getPrototypeOf(o) { private_search_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return private_search_getPrototypeOf(o); }\n\n/*\r\n * @Date: 2022-12-28 09:45:19\r\n * @LastEditors: Leo\r\n * @LastEditTime: 2023-01-03 17:32:21\r\n * @FilePath: \\3.0-manger\\src\\js\\components\\private-search.js\r\n */\n\n\nvar PredictiveSearch = /*#__PURE__*/function (_HTMLElement) {\n  private_search_inherits(PredictiveSearch, _HTMLElement);\n\n  var _super = private_search_createSuper(PredictiveSearch);\n\n  function PredictiveSearch() {\n    var _this;\n\n    private_search_classCallCheck(this, PredictiveSearch);\n\n    _this = _super.call(this);\n    _this.cachedResults = {};\n    _this.input = _this.querySelector(\'input[type="search"]\');\n    _this.predictiveSearchResults = _this.querySelector(\'[data-predictive-search]\');\n    _this.isOpen = false;\n\n    _this.setupEventListeners();\n\n    return _this;\n  }\n\n  private_search_createClass(PredictiveSearch, [{\n    key: "setupEventListeners",\n    value: function setupEventListeners() {\n      var _this2 = this;\n\n      var form = this.querySelector(\'form.search\');\n      form.addEventListener(\'submit\', this.onFormSubmit.bind(this));\n      this.input.addEventListener(\'input\', debounce(function (event) {\n        _this2.onChange(event);\n      }, 300).bind(this));\n      this.input.addEventListener(\'focus\', this.onFocus.bind(this));\n      this.addEventListener(\'focusout\', this.onFocusOut.bind(this));\n      this.addEventListener(\'keyup\', this.onKeyup.bind(this));\n      this.addEventListener(\'keydown\', this.onKeydown.bind(this));\n    }\n  }, {\n    key: "getQuery",\n    value: function getQuery() {\n      return this.input.value.trim();\n    }\n  }, {\n    key: "onChange",\n    value: function onChange() {\n      var searchTerm = this.getQuery();\n\n      if (!searchTerm.length) {\n        this.close(true);\n        return;\n      }\n\n      this.getSearchResults(searchTerm);\n    }\n  }, {\n    key: "onFormSubmit",\n    value: function onFormSubmit(event) {\n      if (!this.getQuery().length || this.querySelector(\'[aria-selected="true"] a\')) event.preventDefault();\n    }\n  }, {\n    key: "onFocus",\n    value: function onFocus() {\n      var searchTerm = this.getQuery();\n      if (!searchTerm.length) return;\n\n      if (this.getAttribute(\'results\') === \'true\') {\n        this.open();\n      } else {\n        this.getSearchResults(searchTerm);\n      }\n    }\n  }, {\n    key: "onFocusOut",\n    value: function onFocusOut() {\n      var _this3 = this;\n\n      setTimeout(function () {\n        if (!_this3.contains(document.activeElement)) _this3.close();\n      });\n    }\n  }, {\n    key: "onKeyup",\n    value: function onKeyup(event) {\n      if (!this.getQuery().length) this.close(true);\n      event.preventDefault();\n\n      switch (event.code) {\n        case \'ArrowUp\':\n          this.switchOption(\'up\');\n          break;\n\n        case \'ArrowDown\':\n          this.switchOption(\'down\');\n          break;\n\n        case \'Enter\':\n          this.selectOption();\n          break;\n      }\n    }\n  }, {\n    key: "onKeydown",\n    value: function onKeydown(event) {\n      // Prevent the cursor from moving in the input when using the up and down arrow keys\n      if (event.code === \'ArrowUp\' || event.code === \'ArrowDown\') {\n        event.preventDefault();\n      }\n    }\n  }, {\n    key: "switchOption",\n    value: function switchOption(direction) {\n      if (!this.getAttribute(\'open\')) return;\n      var moveUp = direction === \'up\';\n      var selectedElement = this.querySelector(\'[aria-selected="true"]\');\n      var allElements = this.querySelectorAll(\'li\');\n      var activeElement = this.querySelector(\'li\');\n      if (moveUp && !selectedElement) return;\n      this.statusElement.textContent = \'\';\n\n      if (!moveUp && selectedElement) {\n        activeElement = selectedElement.nextElementSibling || allElements[0];\n      } else if (moveUp) {\n        activeElement = selectedElement.previousElementSibling || allElements[allElements.length - 1];\n      }\n\n      if (activeElement === selectedElement) return;\n      activeElement.setAttribute(\'aria-selected\', true);\n      if (selectedElement) selectedElement.setAttribute(\'aria-selected\', false);\n      this.setLiveRegionText(activeElement.textContent);\n      this.input.setAttribute(\'aria-activedescendant\', activeElement.id);\n    }\n  }, {\n    key: "selectOption",\n    value: function selectOption() {\n      var selectedProduct = this.querySelector(\'[aria-selected="true"] a, [aria-selected="true"] button\');\n      if (selectedProduct) selectedProduct.click();\n    }\n  }, {\n    key: "getSearchResults",\n    value: function getSearchResults(searchTerm) {\n      var _this4 = this;\n\n      var queryKey = searchTerm.replace(" ", "-").toLowerCase();\n      this.setLiveRegionLoadingState();\n\n      if (this.cachedResults[queryKey]) {\n        this.renderSearchResults(this.cachedResults[queryKey]);\n        return;\n      }\n\n      fetch("".concat(routes.predictive_search_url, "?q=").concat(encodeURIComponent(searchTerm), "&").concat(encodeURIComponent(\'resources[type]\'), "=product&").concat(encodeURIComponent(\'resources[limit]\'), "=4&section_id=predictive-search")).then(function (response) {\n        if (!response.ok) {\n          var error = new Error(response.status);\n\n          _this4.close();\n\n          throw error;\n        }\n\n        return response.text();\n      }).then(function (text) {\n        var resultsMarkup = new DOMParser().parseFromString(text, \'text/html\').querySelector(\'#shopify-section-predictive-search\').innerHTML;\n        _this4.cachedResults[queryKey] = resultsMarkup;\n\n        _this4.renderSearchResults(resultsMarkup);\n      })["catch"](function (error) {\n        _this4.close();\n\n        throw error;\n      });\n    }\n  }, {\n    key: "setLiveRegionLoadingState",\n    value: function setLiveRegionLoadingState() {\n      this.statusElement = this.statusElement || this.querySelector(\'.predictive-search-status\');\n      this.loadingText = this.loadingText || this.getAttribute(\'data-loading-text\');\n      this.setLiveRegionText(this.loadingText);\n      this.setAttribute(\'loading\', true);\n    }\n  }, {\n    key: "setLiveRegionText",\n    value: function setLiveRegionText(statusText) {\n      var _this5 = this;\n\n      this.statusElement.setAttribute(\'aria-hidden\', \'false\');\n      this.statusElement.textContent = statusText;\n      setTimeout(function () {\n        _this5.statusElement.setAttribute(\'aria-hidden\', \'true\');\n      }, 1000);\n    }\n  }, {\n    key: "renderSearchResults",\n    value: function renderSearchResults(resultsMarkup) {\n      this.predictiveSearchResults.innerHTML = resultsMarkup;\n      this.setAttribute(\'results\', true);\n      this.setLiveRegionResults();\n      this.open();\n    }\n  }, {\n    key: "setLiveRegionResults",\n    value: function setLiveRegionResults() {\n      this.removeAttribute(\'loading\');\n      this.setLiveRegionText(this.querySelector(\'[data-predictive-search-live-region-count-value]\').textContent);\n    }\n  }, {\n    key: "getResultsMaxHeight",\n    value: function getResultsMaxHeight() {\n      this.resultsMaxHeight = window.innerHeight - document.getElementById(\'shopify-section-header\').getBoundingClientRect().bottom;\n      return this.resultsMaxHeight;\n    }\n  }, {\n    key: "open",\n    value: function open() {\n      var _this6 = this;\n\n      console.log("open--------------");\n      this.predictiveSearchResults.style.maxHeight = this.resultsMaxHeight || "".concat(this.getResultsMaxHeight(), "px");\n      this.setAttribute(\'open\', true);\n      this.input.setAttribute(\'aria-expanded\', true);\n      this.isOpen = true;\n      setTimeout(function () {\n        console.log(_this6.input);\n\n        _this6.input.focus();\n      }, 10);\n    }\n  }, {\n    key: "close",\n    value: function close() {\n      var clearSearchTerm = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (clearSearchTerm) {\n        this.input.value = \'\';\n        this.removeAttribute(\'results\');\n      }\n\n      var selected = this.querySelector(\'[aria-selected="true"]\');\n      if (selected) selected.setAttribute(\'aria-selected\', false);\n      this.input.setAttribute(\'aria-activedescendant\', \'\');\n      this.removeAttribute(\'open\');\n      this.input.setAttribute(\'aria-expanded\', false);\n      this.resultsMaxHeight = false;\n      this.predictiveSearchResults.removeAttribute(\'style\');\n      this.isOpen = false;\n    }\n  }]);\n\n  return PredictiveSearch;\n}( /*#__PURE__*/private_search_wrapNativeSuper(HTMLElement));\n\n\n;// CONCATENATED MODULE: ./src/js/index/base.js\n/*\r\n * @Date: 2022-12-27 15:11:35\r\n * @LastEditors: Leo\r\n * @LastEditTime: 2023-01-07 17:23:22\r\n * @FilePath: \\3.0-manger\\src\\js\\index\\base.js\r\n * @description: globaljs\r\n */\n\n\n\ncustomElements.define(\'details-disclosure\', DetailsDisclosure);\ncustomElements.define(\'details-modal\', DetailsModal);\ncustomElements.define(\'predictive-search\', PredictiveSearch);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUwsR0FBYyxLQUFkO0lBQ0g7Ozs7K0NBdk55QzdEOzs7O0FDUDlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEySCxjQUFjLENBQUNDLE1BQWYsQ0FBc0Isb0JBQXRCLEVBQTRDekksaUJBQTVDO0FBQ0F3SSxjQUFjLENBQUNDLE1BQWYsQ0FBc0IsZUFBdEIsRUFBdUNqRixZQUF2QztBQUNBZ0YsY0FBYyxDQUFDQyxNQUFmLENBQXNCLG1CQUF0QixFQUEyQ25FLGdCQUEzQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Nob3BpZnktc3RhcnRlci10aGVtZS8uL3NyYy9qcy9jb21wb25lbnRzL2RldGFpbHMtZGlzY2xvc3VyZS5qcz8zYjk4Iiwid2VicGFjazovL3Nob3BpZnktc3RhcnRlci10aGVtZS8uL3NyYy9qcy91dGlscy9pbmRleC5qcz9lMmMyIiwid2VicGFjazovL3Nob3BpZnktc3RhcnRlci10aGVtZS8uL3NyYy9qcy9jb21wb25lbnRzL2RldGFpbHMtbW9kYWwuanM/Nzc0YyIsIndlYnBhY2s6Ly9zaG9waWZ5LXN0YXJ0ZXItdGhlbWUvLi9zcmMvanMvY29tcG9uZW50cy9wcml2YXRlLXNlYXJjaC5qcz80ZTUxIiwid2VicGFjazovL3Nob3BpZnktc3RhcnRlci10aGVtZS8uL3NyYy9qcy9pbmRleC9iYXNlLmpzPzIyYTIiXSwic291cmNlc0NvbnRlbnQiOlsiLypcclxuICogQERhdGU6IDIwMjItMTItMjcgMTA6NDA6MzNcclxuICogQExhc3RFZGl0b3JzOiBMZW9cclxuICogQExhc3RFZGl0VGltZTogMjAyMi0xMi0yNyAxMDo0MjozOFxyXG4gKiBARmlsZVBhdGg6IFxcMy4wLW1hbmdlclxcc3JjXFxqc1xcY29tcG9uZW50c1xcZGV0YWlscy1kaXNjbG9zdXJlLmpzXHJcbiAqIEBkZXNjcmlwdGlvbjogZHJvcC1tZW51XHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZXRhaWxzRGlzY2xvc3VyZSBleHRlbmRzIEhUTUxFbGVtZW50IHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgICB0aGlzLm1haW5EZXRhaWxzVG9nZ2xlID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdkZXRhaWxzJyk7XHJcbiAgICB0aGlzLm1haW5EZXRhaWxzVG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgdGhpcy5vbkZvY3VzT3V0LmJpbmQodGhpcykpO1xyXG4gIH1cclxuXHJcbiAgb25Gb2N1c091dCgpIHtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBpZiAoIXRoaXMuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMubWFpbkRldGFpbHNUb2dnbGUucmVtb3ZlQXR0cmlidXRlKCdvcGVuJyk7XHJcbiAgICB0aGlzLm1haW5EZXRhaWxzVG9nZ2xlLnF1ZXJ5U2VsZWN0b3IoJ3N1bW1hcnknKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ2RldGFpbHMtZGlzY2xvc3VyZScsIERldGFpbHNEaXNjbG9zdXJlKTtcclxuIiwiLypcclxuICogQERhdGU6IDIwMjItMTItMjggMDk6NTg6MzJcclxuICogQExhc3RFZGl0b3JzOiBMZW9cclxuICogQExhc3RFZGl0VGltZTogMjAyMy0wMS0wNyAxNTo0NToyN1xyXG4gKiBARmlsZVBhdGg6IFxcMy4wLW1hbmdlclxcc3JjXFxqc1xcdXRpbHNcXGluZGV4LmpzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZGVib3VuY2UoZm4sIHdhaXQpIHtcclxuICAgIGxldCB0O1xyXG4gICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHQpO1xyXG4gICAgICAgIHQgPSBzZXRUaW1lb3V0KCgpID0+IGZuLmFwcGx5KHRoaXMsIGFyZ3MpLCB3YWl0KTtcclxuICAgIH07XHJcbn1cclxuXHJcblxyXG5jb25zdCB0cmFwRm9jdXNIYW5kbGVycyA9IHt9O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEZvY3VzYWJsZUVsZW1lbnRzKGNvbnRhaW5lcikge1xyXG4gICAgcmV0dXJuIEFycmF5LmZyb20oXHJcbiAgICAgICAgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoXHJcbiAgICAgICAgICAgIFwic3VtbWFyeSwgYVtocmVmXSwgYnV0dG9uOmVuYWJsZWQsIFt0YWJpbmRleF06bm90KFt0YWJpbmRleF49Jy0nXSksIFtkcmFnZ2FibGVdLCBhcmVhLCBpbnB1dDpub3QoW3R5cGU9aGlkZGVuXSk6ZW5hYmxlZCwgc2VsZWN0OmVuYWJsZWQsIHRleHRhcmVhOmVuYWJsZWQsIG9iamVjdCwgaWZyYW1lXCJcclxuICAgICAgICApXHJcbiAgICApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdHJhcEZvY3VzKGNvbnRhaW5lciwgZWxlbWVudFRvRm9jdXMgPSBjb250YWluZXIpIHtcclxuICAgIHZhciBlbGVtZW50cyA9IGdldEZvY3VzYWJsZUVsZW1lbnRzKGNvbnRhaW5lcik7XHJcbiAgICB2YXIgZmlyc3QgPSBlbGVtZW50c1swXTtcclxuICAgIHZhciBsYXN0ID0gZWxlbWVudHNbZWxlbWVudHMubGVuZ3RoIC0gMV07XHJcblxyXG4gICAgcmVtb3ZlVHJhcEZvY3VzKCk7XHJcblxyXG4gICAgdHJhcEZvY3VzSGFuZGxlcnMuZm9jdXNpbiA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgZXZlbnQudGFyZ2V0ICE9PSBjb250YWluZXIgJiZcclxuICAgICAgICAgICAgZXZlbnQudGFyZ2V0ICE9PSBsYXN0ICYmXHJcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldCAhPT0gZmlyc3RcclxuICAgICAgICApXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRyYXBGb2N1c0hhbmRsZXJzLmtleWRvd24pO1xyXG4gICAgfTtcclxuXHJcbiAgICB0cmFwRm9jdXNIYW5kbGVycy5mb2N1c291dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdHJhcEZvY3VzSGFuZGxlcnMua2V5ZG93bik7XHJcbiAgICB9O1xyXG5cclxuICAgIHRyYXBGb2N1c0hhbmRsZXJzLmtleWRvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBpZiAoZXZlbnQuY29kZS50b1VwcGVyQ2FzZSgpICE9PSAnVEFCJykgcmV0dXJuOyAvLyBJZiBub3QgVEFCIGtleVxyXG4gICAgICAgIC8vIE9uIHRoZSBsYXN0IGZvY3VzYWJsZSBlbGVtZW50IGFuZCB0YWIgZm9yd2FyZCwgZm9jdXMgdGhlIGZpcnN0IGVsZW1lbnQuXHJcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gbGFzdCAmJiAhZXZlbnQuc2hpZnRLZXkpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgZmlyc3QuZm9jdXMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vICBPbiB0aGUgZmlyc3QgZm9jdXNhYmxlIGVsZW1lbnQgYW5kIHRhYiBiYWNrd2FyZCwgZm9jdXMgdGhlIGxhc3QgZWxlbWVudC5cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIChldmVudC50YXJnZXQgPT09IGNvbnRhaW5lciB8fCBldmVudC50YXJnZXQgPT09IGZpcnN0KSAmJlxyXG4gICAgICAgICAgICBldmVudC5zaGlmdEtleVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBsYXN0LmZvY3VzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIHRyYXBGb2N1c0hhbmRsZXJzLmZvY3Vzb3V0KTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCB0cmFwRm9jdXNIYW5kbGVycy5mb2N1c2luKTtcclxuXHJcbiAgICBlbGVtZW50VG9Gb2N1cy5mb2N1cygpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlVHJhcEZvY3VzKGVsZW1lbnRUb0ZvY3VzID0gbnVsbCkge1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIHRyYXBGb2N1c0hhbmRsZXJzLmZvY3VzaW4pO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCB0cmFwRm9jdXNIYW5kbGVycy5mb2N1c291dCk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdHJhcEZvY3VzSGFuZGxlcnMua2V5ZG93bik7XHJcblxyXG4gICAgaWYgKGVsZW1lbnRUb0ZvY3VzKSBlbGVtZW50VG9Gb2N1cy5mb2N1cygpO1xyXG59XHJcblxyXG4vKlxyXG4gICAg5oyH5a6a5a655Zmo5LiLIC0gYXV0b3BsYXkgdmlkZW9cclxuICAgIGVsIC0gdmlkZW8g54i25YWD57SgXHJcbiovIFxyXG5leHBvcnQgZnVuY3Rpb24gYXV0b3BsYXlWaWRlbyhlbCkge1xyXG4gICAgbGV0IHZpZGVvID0gZWwucXVlcnlTZWxlY3RvcignaWZyYW1lW3NyYyo9XCJ3d3cueW91dHViZS5jb21cIl0sIGlmcmFtZVtzcmMqPVwicGxheWVyLnZpbWVvLmNvbVwiXSwgdmlkZW8nKTtcclxuICAgIGlmICghdmlkZW8pIHJldHVybjtcclxuICAgIFxyXG4gICAgaWYgKHZpZGVvLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3ZpZGVvJykge1xyXG4gICAgICB2aWRlby5wbGF5KCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZpZGVvLnNyYyA9IHZpZGVvLnNyYyArICh2aWRlby5zcmMuaW5kZXhPZignPycpIDwgMCA/ICc/JyA6ICcmJykgKyAnYXV0b3BsYXk9MSc7XHJcbn1cclxuLypcclxuICAgIOaMh+WumuWuueWZqOS4iyAtIHN0b3AgdmlkZW9cclxuICAgIGVsIC0gdmlkZW8g54i25YWD57SgXHJcbiovIFxyXG5leHBvcnQgZnVuY3Rpb24gc3RvcFZpZGVvKGVsKSB7XHJcbiAgICBsZXQgdmlkZW8gPSBlbC5xdWVyeVNlbGVjdG9yKCdpZnJhbWVbc3JjKj1cInd3dy55b3V0dWJlLmNvbVwiXSwgaWZyYW1lW3NyYyo9XCJwbGF5ZXIudmltZW8uY29tXCJdLCB2aWRlbycpO1xyXG4gICAgaWYgKCF2aWRlbykgcmV0dXJuO1xyXG5cclxuICAgIGlmICh2aWRlby50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICd2aWRlbycpIHtcclxuICAgICAgdmlkZW8ucGF1c2UoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmlkZW8uc3JjID0gdmlkZW8uc3JjLnJlcGxhY2UoJyZhdXRvcGxheT0xJywgJycpLnJlcGxhY2UoJz9hdXRvcGxheT0xJywgJycpO1xyXG59IiwiLypcclxuICogQERhdGU6IDIwMjItMTItMjcgMTU6MjE6MDFcclxuICogQExhc3RFZGl0b3JzOiBMZW9cclxuICogQExhc3RFZGl0VGltZTogMjAyMi0xMi0yOCAxMDowMDo1NFxyXG4gKiBARmlsZVBhdGg6IFxcMy4wLW1hbmdlclxcc3JjXFxqc1xcY29tcG9uZW50c1xcZGV0YWlscy1tb2RhbC5qc1xyXG4gKi9cclxuXHJcbmltcG9ydCB7cmVtb3ZlVHJhcEZvY3VzLCB0cmFwRm9jdXN9IGZyb20gJy4uL3V0aWxzL2luZGV4J1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZXRhaWxzTW9kYWwgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcigpO1xyXG4gICAgdGhpcy5kZXRhaWxzQ29udGFpbmVyID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdkZXRhaWxzJyk7XHJcbiAgICB0aGlzLnN1bW1hcnlUb2dnbGUgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ3N1bW1hcnknKTtcclxuXHJcbiAgICB0aGlzLmRldGFpbHNDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgJ2tleXVwJyxcclxuICAgICAgKGV2ZW50KSA9PiBldmVudC5jb2RlLnRvVXBwZXJDYXNlKCkgPT09ICdFU0NBUEUnICYmIHRoaXMuY2xvc2UoKVxyXG4gICAgKTtcclxuICAgIHRoaXMuc3VtbWFyeVRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICAnY2xpY2snLFxyXG4gICAgICB0aGlzLm9uU3VtbWFyeUNsaWNrLmJpbmQodGhpcylcclxuICAgICk7XHJcbiAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvblt0eXBlPVwiYnV0dG9uXCJdJykuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgJ2NsaWNrJyxcclxuICAgICAgdGhpcy5jbG9zZS5iaW5kKHRoaXMpXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuc3VtbWFyeVRvZ2dsZS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XHJcbiAgfVxyXG5cclxuICBpc09wZW4oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5kZXRhaWxzQ29udGFpbmVyLmhhc0F0dHJpYnV0ZSgnb3BlbicpO1xyXG4gIH1cclxuXHJcbiAgb25TdW1tYXJ5Q2xpY2soZXZlbnQpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBldmVudC50YXJnZXQuY2xvc2VzdCgnZGV0YWlscycpLmhhc0F0dHJpYnV0ZSgnb3BlbicpXHJcbiAgICAgID8gdGhpcy5jbG9zZSgpXHJcbiAgICAgIDogdGhpcy5vcGVuKGV2ZW50KTtcclxuICB9XHJcblxyXG4gIG9uQm9keUNsaWNrKGV2ZW50KSB7XHJcbiAgICBpZiAoIXRoaXMuY29udGFpbnMoZXZlbnQudGFyZ2V0KSB8fCBldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtb2RhbC1vdmVybGF5JykpIHRoaXMuY2xvc2UoZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgb3BlbihldmVudCkge1xyXG4gICAgdGhpcy5vbkJvZHlDbGlja0V2ZW50ID1cclxuICAgICAgdGhpcy5vbkJvZHlDbGlja0V2ZW50IHx8IHRoaXMub25Cb2R5Q2xpY2suYmluZCh0aGlzKTtcclxuICAgIGV2ZW50LnRhcmdldC5jbG9zZXN0KCdkZXRhaWxzJykuc2V0QXR0cmlidXRlKCdvcGVuJywgdHJ1ZSk7XHJcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkJvZHlDbGlja0V2ZW50KTtcclxuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnb3ZlcmZsb3ctaGlkZGVuJyk7XHJcblxyXG4gICAgdHJhcEZvY3VzKFxyXG4gICAgICB0aGlzLmRldGFpbHNDb250YWluZXIucXVlcnlTZWxlY3RvcignW3RhYmluZGV4PVwiLTFcIl0nKSxcclxuICAgICAgdGhpcy5kZXRhaWxzQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Om5vdChbdHlwZT1cImhpZGRlblwiXSknKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKGZvY3VzVG9nZ2xlID0gdHJ1ZSkge1xyXG4gICAgcmVtb3ZlVHJhcEZvY3VzKGZvY3VzVG9nZ2xlID8gdGhpcy5zdW1tYXJ5VG9nZ2xlIDogbnVsbCk7XHJcbiAgICB0aGlzLmRldGFpbHNDb250YWluZXIucmVtb3ZlQXR0cmlidXRlKCdvcGVuJyk7XHJcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkJvZHlDbGlja0V2ZW50KTtcclxuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3ctaGlkZGVuJyk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ2RldGFpbHMtbW9kYWwnLCBEZXRhaWxzTW9kYWwpO1xyXG4iLCIvKlxyXG4gKiBARGF0ZTogMjAyMi0xMi0yOCAwOTo0NToxOVxyXG4gKiBATGFzdEVkaXRvcnM6IExlb1xyXG4gKiBATGFzdEVkaXRUaW1lOiAyMDIzLTAxLTAzIDE3OjMyOjIxXHJcbiAqIEBGaWxlUGF0aDogXFwzLjAtbWFuZ2VyXFxzcmNcXGpzXFxjb21wb25lbnRzXFxwcml2YXRlLXNlYXJjaC5qc1xyXG4gKi9cclxuaW1wb3J0IHtkZWJvdW5jZX0gZnJvbSAnLi4vdXRpbHMvaW5kZXgnXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByZWRpY3RpdmVTZWFyY2ggZXh0ZW5kcyBIVE1MRWxlbWVudCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuY2FjaGVkUmVzdWx0cyA9IHt9O1xyXG4gICAgICAgIHRoaXMuaW5wdXQgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9XCJzZWFyY2hcIl0nKTtcclxuICAgICAgICB0aGlzLnByZWRpY3RpdmVTZWFyY2hSZXN1bHRzID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcmVkaWN0aXZlLXNlYXJjaF0nKTtcclxuICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLnNldHVwRXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXR1cEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0uc2VhcmNoJyk7XHJcbiAgICAgICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLm9uRm9ybVN1Ym1pdC5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGRlYm91bmNlKChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm9uQ2hhbmdlKGV2ZW50KTtcclxuICAgICAgICB9LCAzMDApLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRoaXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLm9uRm9jdXMuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIHRoaXMub25Gb2N1c091dC5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5vbktleXVwLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMub25LZXlkb3duLmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFF1ZXJ5KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlucHV0LnZhbHVlLnRyaW0oKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkNoYW5nZSgpIHtcclxuICAgICAgICBjb25zdCBzZWFyY2hUZXJtID0gdGhpcy5nZXRRdWVyeSgpO1xyXG5cclxuICAgICAgICBpZiAoIXNlYXJjaFRlcm0ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UodHJ1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0U2VhcmNoUmVzdWx0cyhzZWFyY2hUZXJtKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkZvcm1TdWJtaXQoZXZlbnQpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZ2V0UXVlcnkoKS5sZW5ndGggfHwgdGhpcy5xdWVyeVNlbGVjdG9yKCdbYXJpYS1zZWxlY3RlZD1cInRydWVcIl0gYScpKSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRm9jdXMoKSB7XHJcbiAgICAgICAgY29uc3Qgc2VhcmNoVGVybSA9IHRoaXMuZ2V0UXVlcnkoKTtcclxuXHJcbiAgICAgICAgaWYgKCFzZWFyY2hUZXJtLmxlbmd0aCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5nZXRBdHRyaWJ1dGUoJ3Jlc3VsdHMnKSA9PT0gJ3RydWUnKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3BlbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0U2VhcmNoUmVzdWx0cyhzZWFyY2hUZXJtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25Gb2N1c091dCgpIHtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpKSB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBvbktleXVwKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmdldFF1ZXJ5KCkubGVuZ3RoKSB0aGlzLmNsb3NlKHRydWUpO1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIHN3aXRjaCAoZXZlbnQuY29kZSkge1xyXG4gICAgICAgICAgICBjYXNlICdBcnJvd1VwJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuc3dpdGNoT3B0aW9uKCd1cCcpXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnQXJyb3dEb3duJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuc3dpdGNoT3B0aW9uKCdkb3duJyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnRW50ZXInOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RPcHRpb24oKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbktleWRvd24oZXZlbnQpIHtcclxuICAgICAgICAvLyBQcmV2ZW50IHRoZSBjdXJzb3IgZnJvbSBtb3ZpbmcgaW4gdGhlIGlucHV0IHdoZW4gdXNpbmcgdGhlIHVwIGFuZCBkb3duIGFycm93IGtleXNcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIGV2ZW50LmNvZGUgPT09ICdBcnJvd1VwJyB8fFxyXG4gICAgICAgICAgICBldmVudC5jb2RlID09PSAnQXJyb3dEb3duJ1xyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzd2l0Y2hPcHRpb24oZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmdldEF0dHJpYnV0ZSgnb3BlbicpKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IG1vdmVVcCA9IGRpcmVjdGlvbiA9PT0gJ3VwJztcclxuICAgICAgICBjb25zdCBzZWxlY3RlZEVsZW1lbnQgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ1thcmlhLXNlbGVjdGVkPVwidHJ1ZVwiXScpO1xyXG4gICAgICAgIGNvbnN0IGFsbEVsZW1lbnRzID0gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCdsaScpO1xyXG4gICAgICAgIGxldCBhY3RpdmVFbGVtZW50ID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdsaScpO1xyXG5cclxuICAgICAgICBpZiAobW92ZVVwICYmICFzZWxlY3RlZEVsZW1lbnQpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0dXNFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XHJcblxyXG4gICAgICAgIGlmICghbW92ZVVwICYmIHNlbGVjdGVkRWxlbWVudCkge1xyXG4gICAgICAgICAgICBhY3RpdmVFbGVtZW50ID0gc2VsZWN0ZWRFbGVtZW50Lm5leHRFbGVtZW50U2libGluZyB8fCBhbGxFbGVtZW50c1swXTtcclxuICAgICAgICB9IGVsc2UgaWYgKG1vdmVVcCkge1xyXG4gICAgICAgICAgICBhY3RpdmVFbGVtZW50ID0gc2VsZWN0ZWRFbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmcgfHwgYWxsRWxlbWVudHNbYWxsRWxlbWVudHMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYWN0aXZlRWxlbWVudCA9PT0gc2VsZWN0ZWRFbGVtZW50KSByZXR1cm47XHJcblxyXG4gICAgICAgIGFjdGl2ZUVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgdHJ1ZSk7XHJcbiAgICAgICAgaWYgKHNlbGVjdGVkRWxlbWVudCkgc2VsZWN0ZWRFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRMaXZlUmVnaW9uVGV4dChhY3RpdmVFbGVtZW50LnRleHRDb250ZW50KTtcclxuICAgICAgICB0aGlzLmlucHV0LnNldEF0dHJpYnV0ZSgnYXJpYS1hY3RpdmVkZXNjZW5kYW50JywgYWN0aXZlRWxlbWVudC5pZCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VsZWN0T3B0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkUHJvZHVjdCA9IHRoaXMucXVlcnlTZWxlY3RvcignW2FyaWEtc2VsZWN0ZWQ9XCJ0cnVlXCJdIGEsIFthcmlhLXNlbGVjdGVkPVwidHJ1ZVwiXSBidXR0b24nKTtcclxuXHJcbiAgICAgICAgaWYgKHNlbGVjdGVkUHJvZHVjdCkgc2VsZWN0ZWRQcm9kdWN0LmNsaWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U2VhcmNoUmVzdWx0cyhzZWFyY2hUZXJtKSB7XHJcbiAgICAgICAgY29uc3QgcXVlcnlLZXkgPSBzZWFyY2hUZXJtLnJlcGxhY2UoXCIgXCIsIFwiLVwiKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIHRoaXMuc2V0TGl2ZVJlZ2lvbkxvYWRpbmdTdGF0ZSgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jYWNoZWRSZXN1bHRzW3F1ZXJ5S2V5XSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlclNlYXJjaFJlc3VsdHModGhpcy5jYWNoZWRSZXN1bHRzW3F1ZXJ5S2V5XSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZldGNoKGAke3JvdXRlcy5wcmVkaWN0aXZlX3NlYXJjaF91cmx9P3E9JHtlbmNvZGVVUklDb21wb25lbnQoc2VhcmNoVGVybSl9JiR7ZW5jb2RlVVJJQ29tcG9uZW50KCdyZXNvdXJjZXNbdHlwZV0nKX09cHJvZHVjdCYke2VuY29kZVVSSUNvbXBvbmVudCgncmVzb3VyY2VzW2xpbWl0XScpfT00JnNlY3Rpb25faWQ9cHJlZGljdGl2ZS1zZWFyY2hgKVxyXG4gICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oKHRleHQpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdHNNYXJrdXAgPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHRleHQsICd0ZXh0L2h0bWwnKS5xdWVyeVNlbGVjdG9yKCcjc2hvcGlmeS1zZWN0aW9uLXByZWRpY3RpdmUtc2VhcmNoJykuaW5uZXJIVE1MO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYWNoZWRSZXN1bHRzW3F1ZXJ5S2V5XSA9IHJlc3VsdHNNYXJrdXA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclNlYXJjaFJlc3VsdHMocmVzdWx0c01hcmt1cCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRMaXZlUmVnaW9uTG9hZGluZ1N0YXRlKCkge1xyXG4gICAgICAgIHRoaXMuc3RhdHVzRWxlbWVudCA9IHRoaXMuc3RhdHVzRWxlbWVudCB8fCB0aGlzLnF1ZXJ5U2VsZWN0b3IoJy5wcmVkaWN0aXZlLXNlYXJjaC1zdGF0dXMnKTtcclxuICAgICAgICB0aGlzLmxvYWRpbmdUZXh0ID0gdGhpcy5sb2FkaW5nVGV4dCB8fCB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1sb2FkaW5nLXRleHQnKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRMaXZlUmVnaW9uVGV4dCh0aGlzLmxvYWRpbmdUZXh0KTtcclxuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnbG9hZGluZycsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldExpdmVSZWdpb25UZXh0KHN0YXR1c1RleHQpIHtcclxuICAgICAgICB0aGlzLnN0YXR1c0VsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzRWxlbWVudC50ZXh0Q29udGVudCA9IHN0YXR1c1RleHQ7XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXR1c0VsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XHJcbiAgICAgICAgfSwgMTAwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyU2VhcmNoUmVzdWx0cyhyZXN1bHRzTWFya3VwKSB7XHJcbiAgICAgICAgdGhpcy5wcmVkaWN0aXZlU2VhcmNoUmVzdWx0cy5pbm5lckhUTUwgPSByZXN1bHRzTWFya3VwO1xyXG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdyZXN1bHRzJywgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0TGl2ZVJlZ2lvblJlc3VsdHMoKTtcclxuICAgICAgICB0aGlzLm9wZW4oKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRMaXZlUmVnaW9uUmVzdWx0cygpIHtcclxuICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZSgnbG9hZGluZycpO1xyXG4gICAgICAgIHRoaXMuc2V0TGl2ZVJlZ2lvblRleHQodGhpcy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcmVkaWN0aXZlLXNlYXJjaC1saXZlLXJlZ2lvbi1jb3VudC12YWx1ZV0nKS50ZXh0Q29udGVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVzdWx0c01heEhlaWdodCgpIHtcclxuICAgICAgICB0aGlzLnJlc3VsdHNNYXhIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvcGlmeS1zZWN0aW9uLWhlYWRlcicpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbTtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRzTWF4SGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJvcGVuLS0tLS0tLS0tLS0tLS1cIilcclxuICAgICAgICB0aGlzLnByZWRpY3RpdmVTZWFyY2hSZXN1bHRzLnN0eWxlLm1heEhlaWdodCA9IHRoaXMucmVzdWx0c01heEhlaWdodCB8fCBgJHt0aGlzLmdldFJlc3VsdHNNYXhIZWlnaHQoKX1weGA7XHJcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ29wZW4nLCB0cnVlKTtcclxuICAgICAgICB0aGlzLmlucHV0LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5pbnB1dClcclxuICAgICAgICAgICAgdGhpcy5pbnB1dC5mb2N1cygpXHJcbiAgICAgICAgfSwgMTApO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlKGNsZWFyU2VhcmNoVGVybSA9IHRydWUpIHtcclxuICAgICAgICBpZiAoY2xlYXJTZWFyY2hUZXJtKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXQudmFsdWUgPSAnJztcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoJ3Jlc3VsdHMnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdbYXJpYS1zZWxlY3RlZD1cInRydWVcIl0nKTtcclxuXHJcbiAgICAgICAgaWYgKHNlbGVjdGVkKSBzZWxlY3RlZC5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXQuc2V0QXR0cmlidXRlKCdhcmlhLWFjdGl2ZWRlc2NlbmRhbnQnLCAnJyk7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoJ29wZW4nKTtcclxuICAgICAgICB0aGlzLmlucHV0LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLnJlc3VsdHNNYXhIZWlnaHQgPSBmYWxzZVxyXG4gICAgICAgIHRoaXMucHJlZGljdGl2ZVNlYXJjaFJlc3VsdHMucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xyXG5cclxuICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xyXG4gICAgfVxyXG59IiwiLypcclxuICogQERhdGU6IDIwMjItMTItMjcgMTU6MTE6MzVcclxuICogQExhc3RFZGl0b3JzOiBMZW9cclxuICogQExhc3RFZGl0VGltZTogMjAyMy0wMS0wNyAxNzoyMzoyMlxyXG4gKiBARmlsZVBhdGg6IFxcMy4wLW1hbmdlclxcc3JjXFxqc1xcaW5kZXhcXGJhc2UuanNcclxuICogQGRlc2NyaXB0aW9uOiBnbG9iYWxqc1xyXG4gKi9cclxuaW1wb3J0IERldGFpbHNEaXNjbG9zdXJlIGZyb20gJy4uL2NvbXBvbmVudHMvZGV0YWlscy1kaXNjbG9zdXJlJ1xyXG5pbXBvcnQgRGV0YWlsc01vZGFsIGZyb20gJy4uL2NvbXBvbmVudHMvZGV0YWlscy1tb2RhbCdcclxuaW1wb3J0IFByZWRpY3RpdmVTZWFyY2ggZnJvbSAnLi4vY29tcG9uZW50cy9wcml2YXRlLXNlYXJjaCdcclxuXHJcbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnZGV0YWlscy1kaXNjbG9zdXJlJywgRGV0YWlsc0Rpc2Nsb3N1cmUpO1xyXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2RldGFpbHMtbW9kYWwnLCBEZXRhaWxzTW9kYWwpO1xyXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3ByZWRpY3RpdmUtc2VhcmNoJywgUHJlZGljdGl2ZVNlYXJjaCk7Il0sIm5hbWVzIjpbIkRldGFpbHNEaXNjbG9zdXJlIiwibWFpbkRldGFpbHNUb2dnbGUiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uRm9jdXNPdXQiLCJiaW5kIiwic2V0VGltZW91dCIsImNvbnRhaW5zIiwiZG9jdW1lbnQiLCJhY3RpdmVFbGVtZW50IiwiY2xvc2UiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJIVE1MRWxlbWVudCIsImRlYm91bmNlIiwiZm4iLCJ3YWl0IiwidCIsImFyZ3MiLCJjbGVhclRpbWVvdXQiLCJhcHBseSIsInRyYXBGb2N1c0hhbmRsZXJzIiwiZ2V0Rm9jdXNhYmxlRWxlbWVudHMiLCJjb250YWluZXIiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwidHJhcEZvY3VzIiwiZWxlbWVudFRvRm9jdXMiLCJlbGVtZW50cyIsImZpcnN0IiwibGFzdCIsImxlbmd0aCIsInJlbW92ZVRyYXBGb2N1cyIsImZvY3VzaW4iLCJldmVudCIsInRhcmdldCIsImtleWRvd24iLCJmb2N1c291dCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjb2RlIiwidG9VcHBlckNhc2UiLCJzaGlmdEtleSIsInByZXZlbnREZWZhdWx0IiwiZm9jdXMiLCJhdXRvcGxheVZpZGVvIiwiZWwiLCJ2aWRlbyIsInRhZ05hbWUiLCJ0b0xvd2VyQ2FzZSIsInBsYXkiLCJzcmMiLCJpbmRleE9mIiwic3RvcFZpZGVvIiwicGF1c2UiLCJyZXBsYWNlIiwiRGV0YWlsc01vZGFsIiwiZGV0YWlsc0NvbnRhaW5lciIsInN1bW1hcnlUb2dnbGUiLCJvblN1bW1hcnlDbGljayIsImhhc0F0dHJpYnV0ZSIsImNsb3Nlc3QiLCJvcGVuIiwiY2xhc3NMaXN0Iiwib25Cb2R5Q2xpY2tFdmVudCIsIm9uQm9keUNsaWNrIiwiYm9keSIsImFkZCIsImZvY3VzVG9nZ2xlIiwicmVtb3ZlIiwiUHJlZGljdGl2ZVNlYXJjaCIsImNhY2hlZFJlc3VsdHMiLCJpbnB1dCIsInByZWRpY3RpdmVTZWFyY2hSZXN1bHRzIiwiaXNPcGVuIiwic2V0dXBFdmVudExpc3RlbmVycyIsImZvcm0iLCJvbkZvcm1TdWJtaXQiLCJvbkNoYW5nZSIsIm9uRm9jdXMiLCJvbktleXVwIiwib25LZXlkb3duIiwidmFsdWUiLCJ0cmltIiwic2VhcmNoVGVybSIsImdldFF1ZXJ5IiwiZ2V0U2VhcmNoUmVzdWx0cyIsImdldEF0dHJpYnV0ZSIsInN3aXRjaE9wdGlvbiIsInNlbGVjdE9wdGlvbiIsImRpcmVjdGlvbiIsIm1vdmVVcCIsInNlbGVjdGVkRWxlbWVudCIsImFsbEVsZW1lbnRzIiwic3RhdHVzRWxlbWVudCIsInRleHRDb250ZW50IiwibmV4dEVsZW1lbnRTaWJsaW5nIiwicHJldmlvdXNFbGVtZW50U2libGluZyIsInNldExpdmVSZWdpb25UZXh0IiwiaWQiLCJzZWxlY3RlZFByb2R1Y3QiLCJjbGljayIsInF1ZXJ5S2V5Iiwic2V0TGl2ZVJlZ2lvbkxvYWRpbmdTdGF0ZSIsInJlbmRlclNlYXJjaFJlc3VsdHMiLCJmZXRjaCIsInJvdXRlcyIsInByZWRpY3RpdmVfc2VhcmNoX3VybCIsImVuY29kZVVSSUNvbXBvbmVudCIsInRoZW4iLCJyZXNwb25zZSIsIm9rIiwiZXJyb3IiLCJFcnJvciIsInN0YXR1cyIsInRleHQiLCJyZXN1bHRzTWFya3VwIiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiaW5uZXJIVE1MIiwibG9hZGluZ1RleHQiLCJzdGF0dXNUZXh0Iiwic2V0TGl2ZVJlZ2lvblJlc3VsdHMiLCJyZXN1bHRzTWF4SGVpZ2h0Iiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJnZXRFbGVtZW50QnlJZCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImJvdHRvbSIsImNvbnNvbGUiLCJsb2ciLCJzdHlsZSIsIm1heEhlaWdodCIsImdldFJlc3VsdHNNYXhIZWlnaHQiLCJjbGVhclNlYXJjaFRlcm0iLCJzZWxlY3RlZCIsImN1c3RvbUVsZW1lbnRzIiwiZGVmaW5lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///413\n')}},__webpack_exports__={};__webpack_modules__[413]()})();